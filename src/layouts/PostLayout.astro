---
import HeadLayout from '@layouts/base/HeadLayout.astro'
import HtmlLayout from '@layouts/base/HtmlLayout.astro'
import Header from '@components/Header.astro'
import Footer from '@components/Footer.astro'
import PageContainer from '@components/PageContainer.astro'
import PostItem from '@components/PostItem.astro'

import type { DiscussionContent } from '@services/interface'

export interface Props {
  posts: DiscussionContent[]
}

const { posts } = Astro.props
---

<HtmlLayout>
  <HeadLayout slot="head" />
  <Header />
  <PageContainer>
    <section class="w-full py-12">
      {
        posts.map(item => (
          <PostItem
            title={item.title}
            number={item.number}
            labels={item.labels.nodes}
            createdAt={item.createdAt}
          />
        ))
      }
    </section>
  </PageContainer>
  <Footer />
</HtmlLayout>
