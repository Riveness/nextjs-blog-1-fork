---
import { formatDate } from '../utils'

import type { Label } from '../services/interface'
import Icon from './Icon.astro'

interface Props {
  number: number
  labels: Label[]
  title: string
  createdAt: string
}

const { number, title, labels, createdAt } = Astro.props

const date = formatDate(createdAt)
---

<a rel="prefetch" href={`/post/${number}`}>
  <div class="mb-8 flex flex-col gap-4">
    <div class="flex-none">
      {
        labels.map(label => (
          <a href={`/tags/${label.name}`} class="mr-2 text-xs text-accents-5">
            #{label.name}
          </a>
        ))
      }
    </div>
    <h1 class="font-semibold">{title}</h1>
    <span class="flex items-center text-xs text-accents-5">
      <Icon name="calendar" />
      {date}
    </span>
  </div>
</a>
